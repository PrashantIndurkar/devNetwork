{"ast":null,"code":"var _jsxFileName = \"/home/prashant/Projects/DevConnector-master/client/src/components/dashboard/Dashboard.js\";\nimport React, { useEffect, Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, Redirect, withRouter } from 'react-router-dom';\nimport DashboardActions from './DashboardActions';\nimport Education from './Education';\nimport { getCurrentProfile } from '../../actions/profile';\nimport { deleteAccount } from '../../actions/profile';\nimport { setAlert } from '../../actions/alert';\nimport store from '../../store';\n\nclass Dashboard extends Component {\n  //this function is used here because.. this function runs only on reloading\n  //props.getCurrentProfile(); runs infinite times if it is put here lonely\n  //    useEffect(() => {\n  //        store.dispatch(getCurrentProfile());\n  //      }, []);\n  //I'm adding a delay of 0.4 second in rendering of this component because it was rendering old profile stored in profile(in profile_reducer) before complete execution of getCurrentProfile() action.\n  constructor() {\n    super();\n    this.state = {\n      render: false\n    };\n  } //this is alternative of useEffect hook\n\n\n  componentDidMount() {\n    this.props.getCurrentProfile();\n    setTimeout(() => {\n      this.setState({\n        render: true\n      });\n    }, 400);\n  }\n\n  render() {\n    if (this.state.render == false) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"loading...\");\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"large text-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Dashboard\"), React.createElement(\"p\", {\n      className: \"lead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), \" Welcome\", ' ', this.props.user && this.props.user.name), this.props.profile !== null ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(DashboardActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(Education, {\n      education: this.props.profile.education,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"my-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => this.props.deleteAccount(this.props.history),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-user-minus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), \" Delete My Account\"))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"You have not yet setup a profile, please add some info\"), React.createElement(Link, {\n      to: \"/create-profile\",\n      className: \"btn btn-primary my-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Create Profile\")));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth_reducer.isAuthenticated,\n  user: state.auth_reducer.user,\n  profile: state.profile_reducer.profile,\n  loading: state.profile_reducer.loading,\n  error: state.profile_reducer.error\n});\n\nexport default connect(mapStateToProps, {\n  getCurrentProfile,\n  setAlert,\n  deleteAccount\n})(withRouter(Dashboard));","map":{"version":3,"sources":["/home/prashant/Projects/DevConnector-master/client/src/components/dashboard/Dashboard.js"],"names":["React","useEffect","Component","connect","Link","Redirect","withRouter","DashboardActions","Education","getCurrentProfile","deleteAccount","setAlert","store","Dashboard","constructor","state","render","componentDidMount","props","setTimeout","setState","user","name","profile","education","history","mapStateToProps","isAuthenticated","auth_reducer","profile_reducer","loading","error"],"mappings":"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","sourcesContent":["import React, { useEffect, Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, Redirect, withRouter } from 'react-router-dom';\n\nimport DashboardActions from './DashboardActions';\nimport Education from './Education';\n\nimport { getCurrentProfile } from '../../actions/profile';\nimport { deleteAccount } from '../../actions/profile';\nimport { setAlert } from '../../actions/alert';\nimport store from '../../store';\n\nclass Dashboard extends Component {\n\t//this function is used here because.. this function runs only on reloading\n\t//props.getCurrentProfile(); runs infinite times if it is put here lonely\n\n\t//    useEffect(() => {\n\t//        store.dispatch(getCurrentProfile());\n\t//      }, []);\n\n\t//I'm adding a delay of 0.4 second in rendering of this component because it was rendering old profile stored in profile(in profile_reducer) before complete execution of getCurrentProfile() action.\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\trender: false,\n\t\t};\n\t}\n\n\t//this is alternative of useEffect hook\n\tcomponentDidMount() {\n\t\tthis.props.getCurrentProfile();\n\t\tsetTimeout(() => {\n\t\t\tthis.setState({ render: true });\n\t\t}, 400);\n\t}\n\n\trender() {\n\t\tif (this.state.render == false) {\n\t\t\treturn <div>loading...</div>;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"container-fluid\">\n\t\t\t\t<h1 className=\"large text-primary\">Dashboard</h1>\n\t\t\t\t<p className=\"lead\">\n\t\t\t\t\t<i className=\"fas fa-user\" /> Welcome{' '}\n\t\t\t\t\t{this.props.user && this.props.user.name}\n\t\t\t\t</p>\n\n\t\t\t\t{this.props.profile !== null ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<DashboardActions />\n\n\t\t\t\t\t\t<Education education={this.props.profile.education} />\n\n\t\t\t\t\t\t<div className=\"my-2\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"btn btn-danger\"\n\t\t\t\t\t\t\t\tonClick={() => this.props.deleteAccount(this.props.history)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-user-minus\" /> Delete My Account\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>You have not yet setup a profile, please add some info</p>\n\t\t\t\t\t\t<Link to=\"/create-profile\" className=\"btn btn-primary my-1\">\n\t\t\t\t\t\t\tCreate Profile\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tisAuthenticated: state.auth_reducer.isAuthenticated,\n\tuser: state.auth_reducer.user,\n\tprofile: state.profile_reducer.profile,\n\tloading: state.profile_reducer.loading,\n\terror: state.profile_reducer.error,\n});\n\nexport default connect(mapStateToProps, {\n\tgetCurrentProfile,\n\tsetAlert,\n\tdeleteAccount,\n})(withRouter(Dashboard));\n"]},"metadata":{},"sourceType":"module"}