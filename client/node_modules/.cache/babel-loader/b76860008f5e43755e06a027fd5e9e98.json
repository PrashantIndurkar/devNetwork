{"ast":null,"code":"var _jsxFileName = \"/home/prashant/Projects/DevConnector-master/client/src/components/profile/Profile.js\";\nimport React, { useEffect, Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport store from '../../store';\nimport ProfileTop from './ProfileTop';\nimport ProfileAbout from './ProfileAbout';\nimport ProfileExperience from './ProfileExperience';\nimport ProfileEducation from './ProfileEducation';\nimport ProfileGithub from './ProfileGithub';\nimport { getProfileById } from '../../actions/profile';\n\nclass Profile extends Component {\n  //  useEffect(() => {\n  //        store.dispatch(getProfileById(props.match.params.id));\n  //  }, []);\n  //  console.log(props.profile);\n  //I'm adding a delay of 0.4 second in rendering of this component because it was rendering old profile stored in profile(in profile_reducer) before complete execution of getProfileById(...) action.\n  constructor() {\n    super();\n    this.state = {\n      render: false\n    };\n  }\n\n  componentDidMount() {\n    this.props.getProfileById(this.props.match.params.id);\n    setTimeout(() => {\n      this.setState({\n        render: true\n      });\n    }, 400);\n  }\n\n  render() {\n    console.log(this.props.match.params);\n\n    if (this.state.render == false) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"loading...\");\n    }\n\n    if (!this.props.profile) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"User has not created profile...\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, this.props.loading ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"loading...\") : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/profiles\",\n      className: \"btn btn-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Back to Profiles\"), this.props.isAuthenticated && !this.props.loading && this.props.user._id === this.props.profile.user._id ? React.createElement(Link, {\n      to: \"/edit-profile\",\n      className: \"btn btn-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Edit Profile \") : null, React.createElement(\"div\", {\n      className: \"profile-grid my-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(ProfileTop, {\n      profile: this.props.profile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(ProfileAbout, {\n      profile: this.props.profile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(ProfileExperience, {\n      profile: this.props.profile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(ProfileEducation, {\n      profile: this.props.profile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(ProfileGithub, {\n      profile: this.props.profile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }))));\n  }\n\n}\n\n;\n\nconst mapStateToProps = state => ({\n  profile: state.profile_reducer.profile,\n  isAuthenticated: state.auth_reducer.isAuthenticated,\n  user: state.auth_reducer.user,\n  loading: state.profile_reducer.loading\n});\n\nexport default connect(mapStateToProps, {\n  getProfileById\n})(Profile);","map":{"version":3,"sources":["/home/prashant/Projects/DevConnector-master/client/src/components/profile/Profile.js"],"names":["React","useEffect","Component","Link","connect","store","ProfileTop","ProfileAbout","ProfileExperience","ProfileEducation","ProfileGithub","getProfileById","Profile","constructor","state","render","componentDidMount","props","match","params","id","setTimeout","setState","console","log","profile","loading","isAuthenticated","user","_id","mapStateToProps","profile_reducer","auth_reducer"],"mappings":"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","sourcesContent":["import React, { useEffect, Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport store from '../../store';\nimport ProfileTop from './ProfileTop';\nimport ProfileAbout from './ProfileAbout';\nimport ProfileExperience from './ProfileExperience';\nimport ProfileEducation from './ProfileEducation';\nimport ProfileGithub from './ProfileGithub';\nimport { getProfileById } from '../../actions/profile';\n\nclass Profile extends Component{\n      \n//  useEffect(() => {\n//        store.dispatch(getProfileById(props.match.params.id));\n//  }, []);\n//  console.log(props.profile);\n    \n  \n  //I'm adding a delay of 0.4 second in rendering of this component because it was rendering old profile stored in profile(in profile_reducer) before complete execution of getProfileById(...) action.\n  constructor() {\n        super();\n        this.state = {\n            render: false \n        }\n    }\n\n  componentDidMount() {\n      \n      this.props.getProfileById(this.props.match.params.id);\n      \n      setTimeout(() => { \n          this.setState({render: true})\n      }, 400)\n  }\n\n  render(){\n      \n      \n      console.log(this.props.match.params);\n      \n      if(this.state.render==false){\n          return <div>loading...</div>\n      }\n      \n      if(!this.props.profile ){\n          return <div>User has not created profile...</div>\n      }\n        \n      return (\n        <div>\n          {(this.props.loading ) ? <div>loading...</div> :\n\n           (\n               <div>\n               <Link to='/profiles' className=\"btn btn-light\">Back to Profiles</Link>\n\n               { (this.props.isAuthenticated && !this.props.loading && this.props.user._id===this.props.profile.user._id) ?\n                <Link to='/edit-profile' className=\"btn btn-dark\">Edit Profile </Link> \n               : null }\n\n               <div className='profile-grid my-1'>\n               <ProfileTop profile={this.props.profile}/>\n               <ProfileAbout profile={this.props.profile}/>\n               <ProfileExperience profile={this.props.profile}/>\n               <ProfileEducation profile={this.props.profile}/>\n               <ProfileGithub profile={this.props.profile}/>\n               </div>\n\n               </div>\n\n\n           )}\n        </div>\n      )\n  }\n};\n\n\nconst mapStateToProps = state => ({\n  profile: state.profile_reducer.profile,\n  isAuthenticated: state.auth_reducer.isAuthenticated,\n  user: state.auth_reducer.user,\n  loading:state.profile_reducer.loading\n});\n\nexport default connect(mapStateToProps,{ getProfileById })(Profile);\n"]},"metadata":{},"sourceType":"module"}