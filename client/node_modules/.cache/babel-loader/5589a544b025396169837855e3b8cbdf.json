{"ast":null,"code":"var _jsxFileName = \"/home/prashant/Projects/DevConnector-master/client/src/components/auth/Login.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { Link, Redirect } from 'react-router-dom';\nimport { loadUser } from '../../actions/auth';\nimport { login } from '../../actions/auth';\nimport { setAlert } from '../../actions/alert';\n\nclass Login extends Component {\n  constructor() {\n    super();\n\n    this.handleEmail = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.handlePassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const user = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      this.props.login(user); //            const config= {\n      //                headers:{\n      //                    'Content-Type':'application/json'\n      //                }\n      //            }\n      //            const body= JSON.stringify(user);\n      //           \n      //            axios.post('/users/login',body, config).then((response)=> {\n      //                console.log(response);\n      //            }).catch(err=> {\n      //                console.log(err);\n      //            })\n\n      this.setState({\n        email: \"\",\n        password: \"\"\n      });\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\"\n    };\n  } //this input data doesn't have any use, so it is not included into redux\n  //all the useful data is only..the data saved in database, so they are included in redux\n  //and can be accessed anywhere\n\n\n  render() {\n    console.log(this.props.user);\n\n    if (this.props.isAuthenticated) {\n      return React.createElement(Redirect, {\n        to: \"/dashboard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      });\n    } //when a page is reloaded or moving to any url.. user-> unAuthenticated & loading-> true (i.e. default state)\n    //this is used to hide the view of ..say intermediate components\n\n\n    if (!this.props.isAuthenticated && this.props.loading) {\n      return \"loading....\";\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"large text-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(\"p\", {\n      className: \"lead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), \" Sign Into Your Account\"), React.createElement(\"form\", {\n      className: \"form\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"email\",\n      placeholder: \"Email Address\",\n      name: \"email\",\n      onChange: this.handleEmail,\n      value: this.state.email,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"password\",\n      minLength: \"4\",\n      onChange: this.handlePassword,\n      value: this.state.password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      value: \"Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"my-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Do not have an account? \", React.createElement(Link, {\n      to: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Sign Up\")));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth_reducer.isAuthenticated,\n  user: state.auth_reducer.user,\n  loading: state.auth_reducer.loading\n});\n\nexport default connect(mapStateToProps, {\n  login,\n  loadUser,\n  setAlert\n})(Login);","map":{"version":3,"sources":["/home/prashant/Projects/DevConnector-master/client/src/components/auth/Login.js"],"names":["React","Component","axios","connect","Link","Redirect","loadUser","login","setAlert","Login","constructor","handleEmail","event","setState","email","target","value","handlePassword","password","handleSubmit","preventDefault","user","state","props","render","console","log","isAuthenticated","loading","mapStateToProps","auth_reducer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {connect} from 'react-redux';\nimport {Link, Redirect} from 'react-router-dom';\n\nimport {loadUser} from '../../actions/auth';\nimport {login} from '../../actions/auth';\nimport {setAlert} from '../../actions/alert';\n\n\nclass Login extends Component{\n    \n    constructor(){\n        super();\n        this.state={\n            email:\"\",\n            password:\"\",\n        }\n    }\n    \n    //this input data doesn't have any use, so it is not included into redux\n    //all the useful data is only..the data saved in database, so they are included in redux\n    //and can be accessed anywhere\n    \n    handleEmail=(event)=> {\n\n        this.setState({\n            email:event.target.value\n        })\n    }\n\n    handlePassword=(event)=> {\n\n        this.setState({\n            password:event.target.value\n        })\n    }\n\n    handleSubmit=(event)=> {\n        event.preventDefault();\n\n        const user={\n            email:this.state.email,\n            password:this.state.password\n        }\n\n        this.props.login(user);\n\n\n//            const config= {\n//                headers:{\n//                    'Content-Type':'application/json'\n//                }\n//            }\n//            const body= JSON.stringify(user);\n//           \n//            axios.post('/users/login',body, config).then((response)=> {\n//                console.log(response);\n//            }).catch(err=> {\n//                console.log(err);\n//            })\n            \n        this.setState({\n            email:\"\",\n            password:\"\"\n        })                   \n    }\n    \n    \nrender(){\n    \n    \n    console.log(this.props.user);\n    \n    if (this.props.isAuthenticated){\n        return <Redirect to='/dashboard' />;\n    }\n    \n    \n    //when a page is reloaded or moving to any url.. user-> unAuthenticated & loading-> true (i.e. default state)\n    //this is used to hide the view of ..say intermediate components\n    if(! this.props.isAuthenticated && this.props.loading){\n        return \"loading....\"\n    }\n    \n    \n    return(\n    \n        <div>\n          <h1 className=\"large text-primary\">Sign In</h1>\n          <p className=\"lead\"><i className=\"fas fa-user\"></i> Sign Into Your Account</p>\n          <form className=\"form\" onSubmit={this.handleSubmit}>\n            \n            <div className=\"form-group\">\n              <input type=\"email\" placeholder=\"Email Address\" name=\"email\" onChange={this.handleEmail} value={this.state.email} required />\n            </div>\n        \n            <div className=\"form-group\">\n              <input\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n                minLength=\"4\"\n                onChange={this.handlePassword}\n                value={this.state.password}\n              />\n            </div>\n        \n            <input type=\"submit\" className=\"btn btn-primary\" value=\"Login\" />\n          </form>\n          <p className=\"my-1\">\n            Do not have an account? <Link to=\"/register\">Sign Up</Link>\n          </p>\n        </div>\n    )\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth_reducer.isAuthenticated,\n  user: state.auth_reducer.user,\n  loading:state.auth_reducer.loading\n});\n\nexport default connect(mapStateToProps, {login,loadUser,setAlert})(Login);\n\n\n"]},"metadata":{},"sourceType":"module"}