{"ast":null,"code":"var _jsxFileName = \"/home/prashant/Projects/DevConnector-master/client/src/components/dashboard/Dashboard.js\";\nimport React, { useEffect, Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, Redirect, withRouter } from 'react-router-dom';\nimport DashboardActions from './DashboardActions';\nimport Experience from './Experience';\nimport Education from './Education';\nimport { getCurrentProfile } from '../../actions/profile';\nimport { deleteAccount } from '../../actions/profile';\nimport { setAlert } from '../../actions/alert';\nimport store from '../../store';\n\nclass Dashboard extends Component {\n  //this function is used here because.. this function runs only on reloading\n  //props.getCurrentProfile(); runs infinite times if it is put here lonely\n  //    useEffect(() => {\n  //        store.dispatch(getCurrentProfile());\n  //      }, []);\n  //I'm adding a delay of 0.4 second in rendering of this component because it was rendering old profile stored in profile(in profile_reducer) before complete execution of getCurrentProfile() action.\n  constructor() {\n    super();\n    this.state = {\n      render: false\n    };\n  } //this is alternative of useEffect hook\n\n\n  componentDidMount() {\n    this.props.getCurrentProfile();\n    setTimeout(() => {\n      this.setState({\n        render: true\n      });\n    }, 400);\n  }\n\n  render() {\n    if (this.state.render == false) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"loading...\");\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"large text-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Dashboard\"), React.createElement(\"p\", {\n      className: \"lead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), \" Welcome \", this.props.user && this.props.user.name), this.props.profile !== null ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(DashboardActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(Experience, {\n      experience: this.props.profile.experience,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(Education, {\n      education: this.props.profile.education,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"my-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => this.props.deleteAccount(this.props.history),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-user-minus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), \" Delete My Account\"))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"You have not yet setup a profile, please add some info\"), React.createElement(Link, {\n      to: \"/create-profile\",\n      className: \"btn btn-primary my-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Create Profile\")));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth_reducer.isAuthenticated,\n  user: state.auth_reducer.user,\n  profile: state.profile_reducer.profile,\n  loading: state.profile_reducer.loading,\n  error: state.profile_reducer.error\n});\n\nexport default connect(mapStateToProps, {\n  getCurrentProfile,\n  setAlert,\n  deleteAccount\n})(withRouter(Dashboard));","map":{"version":3,"sources":["/home/prashant/Projects/DevConnector-master/client/src/components/dashboard/Dashboard.js"],"names":["React","useEffect","Component","connect","Link","Redirect","withRouter","DashboardActions","Experience","Education","getCurrentProfile","deleteAccount","setAlert","store","Dashboard","constructor","state","render","componentDidMount","props","setTimeout","setState","user","name","profile","experience","education","history","mapStateToProps","isAuthenticated","auth_reducer","profile_reducer","loading","error"],"mappings":"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","sourcesContent":["import React, {useEffect, Component} from 'react';\nimport {connect} from 'react-redux';\nimport {Link, Redirect, withRouter} from 'react-router-dom';\n\nimport DashboardActions from './DashboardActions';\nimport Experience from './Experience';\nimport Education from './Education';\n\nimport {getCurrentProfile} from '../../actions/profile';\nimport {deleteAccount} from '../../actions/profile';\nimport {setAlert} from '../../actions/alert';\nimport store from '../../store';\n\n\nclass Dashboard extends Component{\n    \n    \n    //this function is used here because.. this function runs only on reloading\n    //props.getCurrentProfile(); runs infinite times if it is put here lonely\n    \n//    useEffect(() => {\n//        store.dispatch(getCurrentProfile());\n//      }, []);\n    \n    \n    \n    \n    \n    //I'm adding a delay of 0.4 second in rendering of this component because it was rendering old profile stored in profile(in profile_reducer) before complete execution of getCurrentProfile() action.\n    constructor() {\n        super();\n        this.state = {\n            render: false \n        }\n    }\n\n    //this is alternative of useEffect hook\n    componentDidMount() {\n          this.props.getCurrentProfile();\n          setTimeout(() => { \n              this.setState({render: true})\n          }, 400)\n    }\n    \n    \n    render(){\n        \n        if(this.state.render==false){\n          return <div>loading...</div>\n        }\n\n        return(\n            <div className=\"container-fluid\">\n\n            <h1 className='large text-primary'>Dashboard</h1>\n              <p className='lead'>\n              <i className='fas fa-user' /> Welcome {this.props.user && this.props.user.name}\n              </p>\n\n              {this.props.profile !== null ? (\n                <div>\n                  <DashboardActions />\n                  <Experience experience={this.props.profile.experience} />\n                  <Education education={this.props.profile.education} />\n\n                  <div className='my-2'>\n                    <button className='btn btn-danger' onClick={()=>this.props.deleteAccount(this.props.history)}>\n                      <i className='fas fa-user-minus' /> Delete My Account\n                    </button>\n                  </div>\n                </div>\n              ) : (\n                <div>\n                  <p>You have not yet setup a profile, please add some info</p>\n                  <Link to='/create-profile' className='btn btn-primary my-1'>\n                    Create Profile\n                  </Link>\n                </div>\n              )}\n\n            </div>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth_reducer.isAuthenticated,\n  user:state.auth_reducer.user,\n  profile:state.profile_reducer.profile,\n  loading:state.profile_reducer.loading,\n  error:state.profile_reducer.error\n});\n\nexport default connect(mapStateToProps,{getCurrentProfile,setAlert,deleteAccount})(withRouter(Dashboard));\n"]},"metadata":{},"sourceType":"module"}